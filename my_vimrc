" Macroses {{{1
"2020.03.10
let @a='IALTER USER wywA IDENTIFIED BY pa;j'
"correct wrong inserted word.
nnoremap Q 0yt=A<C-r>=<C-r>"<CR><Esc>"
inoremap <F10> <esc>u@.

" Plugins {{{1
" -- Eclim {{{2
"http://eclim.org/cheatsheet.html#java-commands
":Jps (Java Process Status Tool)
"ProjectCreate /Users/vitali_bazhko/Documents/workspace/java -n java(groovy)
": java(groovy)
":JavaNew class(interface,abstract,enum,@interface)
set cot-=preview
let g:EclimProjectStatusLine = 'eclim(p=${name}, n=${natures})'
let g:EclimLogLevel = 'error'
nnoremap <leader>j :Java<CR><cr>
vnoremap ,jcon  :JavaConstructor<CR>
vnoremap ,jgs   :JavaGetSet<CR>
vnoremap ,jg    :JavaGet<CR>
vnoremap ,js    :JavaSet<CR>
nnoremap ,jim   :JavaImpl<CR>

nnoremap ,ji    :JavaImportOrganize<CR>
nnoremap ,jnc   :JavaNew class
nnoremap ,jr    :JavaRename
nnoremap ,jc    :JavaCorrect<cr>
nnoremap ,jf    :%JavaFormat<cr>
nnoremap ,jd    :JavaDocSearch -x declarations<cr>
nnoremap ,jdc   :JavaDocComment<cr>
"nnoremap <silent> <buffer> <cr> :JavaSearchContext<cr>
iab psvm public static void main(String[] args){<cr><cr>};<esc>kk
iab sout System.out.println("");<esc>hhh
"JavaHierarchy ---------- View the type hierarchy tree.
"JavaDelegate ----------- View list of methods that delegate to the field under the cursor.
"JavaImport ------------- Import the class under the cursor.
"JavaMove [new_package] - Move the current class/interface to another package.
"Validate --------------- Manually runs source code validation.
"java -jar eclim_2.6.0.jar uninstaller

" -- MySQL {{{2
Plugin 'ivalkeen/vim-simpledb'  "https://github.com/ivalkeen/vim-simpledb
let g:simpledb_show_timing = 0
vnoremap <leader><cr> :SimpleDBExecuteSql<cr>
nnoremap <leader><cr> V:SimpleDBExecuteSql<cr>
nnoremap <leader><leader><cr> m':'{,'}SimpleDBExecuteSql<cr>g`'

" -- Vim-fugitive {{{2
Plugin 'tpope/vim-fugitive' "https://github.com/tpope/vim-fugitive
Plugin 'junegunn/gv.vim'    "https://github.com/junegunn/gv.vim
au User fugitive
  \ if fugitive#buffer().type() =~# '^\%(tree\|blob\)$' |
  \  noremap <buffer> .. :edit %:h<cr> |
  \ endif
au BufReadPost fugitive://* set bufhidden=delete
nnoremap ,ga  :Git add %:p<CR><CR>
nnoremap ,gb  :Gbrowse<cr>
nnoremap ,gbr :Git branch<Space>
nnoremap ,gc  :Git checkout<space>
nnoremap ,gd  :Gdiff<cr>
nnoremap ,gl  :GV!<CR>
nnoremap ,gm  :Gmove<Space>
nnoremap ,gp  :Git pull<cr>
nnoremap ,gP  :Git push<cr><cr>
nnoremap ,gr  :Gread<CR>
nnoremap ,gs  :Gstatus<CR>
nnoremap ,gw  :Gwrite<CR>

nnoremap <leader>d  :windo diffthis<cr>
nnoremap <leader>do  :diffoff<cr>
map \2 :diffget LO<CR> :diffupdate<CR>
map \3 :diffget BA<CR> :diffupdate<CR>
map \4 :diffget RE<CR> :diffupdate<CR>

" -- Vim-gitgutter  (Shows Diff) {{{2
Plugin 'airblade/vim-gitgutter' "https://github.com/airblade/vim-gitgutter
"jump to next ]c
"jump to previous [c

" -- Vim-signature  (Show marks) {{{2
Plugin 'kshenoy/vim-signature' "https://github.com/kshenoy/vim-signature

" -- Extra instant markdown  {{{2
"https://github.com/NBUT-Developers/extra-instant-markdown
"sudo npm -g install instant-markdown-x
Plugin 'NBUT-Developers/extra-instant-markdown'
nnoremap \m :InstantMarkdownPreview<CR>
let g:instant_markdown_autostart = 0
nnoremap \m :InstantMarkdownPreview<CR>

" -- Markdown {{{2
"https://github.com/plasticboy/vim-markdown/
Plugin 'plasticboy/vim-markdown'

" -- Vim-easy-align {{{2
"https://github.com/junegunn/vim-easy-align
"https://robots.thoughtbot.com/align-github-flavored-markdown-tables-in-vim
Plugin 'junegunn/vim-easy-align'
au FileType markdown vmap <Leader><Bslash> :EasyAlign*<Bar><Enter>

" -- Vimux {{{2
Plugin 'benmills/vimux' "https://github.com/benmills/vimux
let g:VimuxHeight = 35
nnoremap <leader>g    :!clear && groovy %<CR>
map <Leader>p         :VimuxPromptCommand<CR><C-r><C-w><cr>
map <Leader>pc        :VimuxPromptCommand<CR>
"map <Leader>g         :VimuxRunCommand("clear;groovy " . expand("%:p"))<CR>
map <leader>c         :VimuxRunCommand("clear;")<CR>
map <Leader>vr        :VimuxRunCommandInDir("git push",0)<CR>
map <leader>q         :VimuxCloseRunner<cr>
function! VimuxSlime()
  call VimuxSendText(@v)
  call VimuxSendKeys("Enter")
 endfunction
nmap <leader>v "vyy :call VimuxSlime()<CR>

" -- REST Console {{{2
"https://github.com/diepm/vim-rest-console
Plugin 'diepm/vim-rest-console'

" -- Open-browser  {{{2
Plugin 'tyru/open-browser.vim' "https://github.com/tyru/open-browser.vim
vmap ,o <Plug>(openbrowser-smart-search)
nmap ,o <Plug>(openbrowser-smart-search)
nmap ,fg :OpenBrowserSmartSearch -github tpope<cr>

" -- Howdoi  {{{2
Plugin 'laurentgoudet/vim-howdoi.git' "https://github.com/laurentgoudet/vim-howdoi
"sudo pip install howdoi
"sudo apt install python-pip python-dev libxml2-dev libxslt1-dev zlib1g-dev
"C-h
set runtimepath^=~/.vim/bundle/vim-howdoi

" -- Emmet {{{2
Plugin 'mattn/emmet-vim' "https://github.com/mattn/emmet-vim
imap <C-e> <C-y>,
au FileType html,css EmmetInstall
let g:user_emmet_install_global = 0
let g:user_emmet_mode='a'

" -- Gundo {{{2
Plugin 'sjl/gundo.vim'  "https://github.com/sjl/gundo.vim
nnoremap U :GundoToggle<CR>
let g:gundo_playback_delay=120
let g:gundo_preview_bottom = 1
let g:gundo_help = 0
set undofile history=200 undolevels=5000 undoreload=10000

" -- Speeddating {{{2
"https://github.com/tpope/vim-speeddating
Plugin 'tpope/vim-speeddating'

" -- Ack  {{{2
"https://github.com/mileszs/ack.vim
"sudo apt-get install ack-grep
Plugin 'mileszs/ack.vim'
if executable('ag')
    let g:ackprg = 'ag --smart-case --nogroup --nocolor --column'
endif
nnoremap <leader>f :Ack! '\b<c-r><c-w>\b'<cr>

" -- Ag {{{2
Plugin 'rking/ag.vim'  "https://github.com/rking/ag.vim
"brew install the_silver_searcher
"sudo apt-get install silversearcher-ag
set grepprg=ag
nmap \f :Ag! <c-r>=expand("<cword>")<cr><cr>
let g:ag_highlight=1
if executable("ag")
  set grepprg=ag\ --nogroup\ --nocolor
  let g:ctrlp_user_command = 'ag %s -i --nocolor --nogroup --ignore ''.git'' --ignore ''.DS_Store'' --ignore ''node_modules'' --hidden -g ""'
endif

" -- Tabular {{{2
"https://github.com/godlygeek/tabular/blob/master/doc/Tabular.txt
Plugin 'godlygeek/tabular'
xnoremap t :Tabularize /=<cr>

" -- ReplaceWithRegister {{{2
Plugin 'vim-scripts/ReplaceWithRegister' "https://github.com/vim-scripts/ReplaceWithRegister
nmap <leader>gr griw

" -- Javacomplete2 {{{2
"https://github.com/artur-shaik/vim-javacomplete2
Plugin 'artur-shaik/vim-javacomplete2'
au FileType java setlocal omnifunc=javacomplete#Complete

call vundle#end()
filetype plugin indent on

" Synatax highliting {{{1
" -- Tmux syntax {{{2
"https://github.com/keith/tmux.vim
Plugin 'keith/tmux.vim'

" -- Vim {{{2
augroup ft_vim
    au!
    au FileType vim setlocal foldmethod=marker keywordprg=:help
    au FileType help wincmd L
augroup END

" -- Markdown {{{2
augroup ft_markdown
    au!
    au BufNewFile,BufRead *.md setlocal filetype=markdown foldlevel=1
    au Filetype markdown nnoremap <buffer> <localleader>1 mzI###<space><esc>`zllll
augroup END

" -- Vagrant {{{2
augroup ft_vagrant
    au!
    au BufRead,BufNewFile Vagrantfile set ft=ruby
augroup END

" -- YAML {{{2
augroup ft_yaml
    au!
    au FileType yaml set shiftwidth=2
augroup END

" -- Other {{{2
nnoremap _g :set ft=groovy<cr>
nnoremap _j :set ft=java<cr>
nnoremap _md :set ft=markdown<cr>
nnoremap _v :set ft=vim<cr>
